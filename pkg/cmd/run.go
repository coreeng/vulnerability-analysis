package cmd

import (
	log "github.com/sirupsen/logrus"

	"github.com/coreeng/vulnerability-analysis/pkg/report"

	"github.com/coreeng/vulnerability-analysis/pkg/root"
)

func Run() int {

	rootCmd := root.NewRootCmd()
	err := rootCmd.Execute()
	if err != nil {
		log.Errorf("Error received:\n%s", err.Error())
		_, ok := err.(report.ProcessingError)
		if ok {
			return 2
		}

		return 1
	}
	return 0
}
